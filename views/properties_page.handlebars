{{!-- 
    This page will display all the properties in the DB.  
    All the properties info is stored in the variable named data. So do data.<whatever you want> eg: data.address, etc.
    Require extra.js file to hide and show My properties or My favourites (Just the name) depending on the usertype (Owner or Student) respectively.
    My properties or My favourites will call route /owners/properties-list or /students/favourites-list respectively
    On individual property click it will call route /properties/{{id}}
 --}}

<main>
    <div class="studentLinks">  
        <a href="/students" class="studentElement1">Profile</a>
        <a href="/properties" class="studentElement2">Properties</a> <br>
        <a href="/students/favourites-list" class="studentElement2">My favourites</a>
        <a href="/sign-out" class="signoutElement">Sign-out</a>
    
        <div class="dropdown1">
            <button class="dropbtn1">Filter</button>
            <div class="dropdown-content1">
                <form name="bed-form" id="bed-form" action="/properties/filter/5">
                    <div class="bed-radio" id="bed-radio">
                        {{!-- <form name="bed-form"> --}}
                            <p class="bedSize">Beds</p>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" id = "bed1" name = "bed" value="1">
                                <label class="form-check-label" for="bed1">
                                    1
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" id = "bed2" name = "bed" value="2">
                                <label class="form-check-label" for="bed2">
                                    2
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" id = "bed3" name = "bed" value="3">
                                <label class="form-check-label" for="bed3">
                                    3
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" id = "bed4" name = "bed" value="4">
                                <label class="form-check-label" for="bed4">
                                    4
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" id = "bed5" name = "bed" value="5">
                                <label class="form-check-label" for="bed5">
                                    5
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" id = "bed6" name = "bed" value="6">
                                <label class="form-check-label" for="bed6">
                                    6
                                </label>
                            </div>
                        {{!-- </form> --}}
                    </div>

                    <div class="bath-radio" id="bath-radio" hidden>
                        {{!-- <form name="bath-form" method="get" id="bath-form" action="/properties/filter/5"> --}}
                            <p class="bedSize">Baths</p>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" id = "bath1" name = "bath" value="1">
                                <label class="form-check-label" for="bath1">
                                    1
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" id = "bath2" name = "bath" value="2">
                                <label class="form-check-label" for="bath2">
                                    2
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" id = "bath3" name = "bath" value="3">
                                <label class="form-check-label" for="bath3">
                                    3
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" id = "bath4" name = "bath" value="4">
                                <label class="form-check-label" for="bath4">
                                    4
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" id = "bath5" name = "bath" value="5">
                                <label class="form-check-label" for="bath5">
                                    5
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" id = "bath6" name = "bath" value="6">
                                <label class="form-check-label" for="bath6">
                                    5
                                </label>
                            </div>
                        {{!-- </form> --}}
                    </div>
                </form>
                
                {{!-- <a href="/properties/filter/0">Default</a>
                <a href="/properties/filter/1">Rent: Low to High</a>
                <a href="/properties/filter/2">Rent: High to Low</a>
                <a href="/properties/filter/3">Distance: Low to High</a>
                <a href="/properties/filter/4">Distance: High to Low</a> --}}
            </div>
        </div>

        <div class="dropdown2">
            <button class="dropbtn2">Sort</button>
            <div class="dropdown-content2">
                <a href="/properties/filter/0">Default</a>
                <a href="/properties/filter/1">Rent: Low to High</a>
                <a href="/properties/filter/2">Rent: High to Low</a>
                <a href="/properties/filter/3">Distance: Low to High</a>
                <a href="/properties/filter/4">Distance: High to Low</a>
            </div>
        </div>

        <br>
        <br>
    </div>  
    <form class="form-search form-inline" action='/search' method='GET'>
        <label class="nav-item active" for="search-input"></label>
        <div class="row mb-3">
            <div class="col-sm-6">
                <label for="search-input"></label>
                <input class="bg-light" name="search-input" type="text" id="search-input" placeholder="Search...">
                <label for="searchBtn"></label>
                <button type="submit" id="searchBtn"><i class="fa fa-search"></i></button>
            </div>
        </div>
    </form>

    <div class="properties">    
        {{#each data}}
        <a href="/properties/property/{{_id}}" class="propertyLink">
            {{#each images}}
            <img src="{{url}}" alt="Property Image" width="100" height="100">
            {{/each}}
            <p>Address: {{address}}</p>
            <p>Distance from Stevens: <b>{{distance}} Miles</b></p>
            <p>Description: {{description}}</p>
            <p>Laundry: {{laundry}}</p>
            <p>Rent: ${{rent}} </p>
            <p>Email: {{emailId}} </p>
            <p>Area: {{area}}sqft </p>
            <p>Bed: {{bed}} bedroom</p>
            <p>Bath: {{bath}} bathroom</p>
        </a> 
        <br>
        {{/each}}
    </div>
</main>

<script src="/public/properties.js"></script>
